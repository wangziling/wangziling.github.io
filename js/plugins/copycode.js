(()=>{const c={copyCode:async function(t,e){if(navigator.clipboard){try{await navigator.clipboard.writeText(e)}catch(e){t.innerText="未获得用户许可";t.classList.add("warning");setTimeout(()=>{t.innerText=stellar.plugins.copycode.default_text;t.classList.remove("warning")},3e3)}}else{t.innerText="当前浏览器不支持此api";t.classList.add("warning");setTimeout(()=>{t.innerText=stellar.plugins.copycode.default_text;t.classList.remove("warning")},3e3)}},init:function(){document.querySelectorAll(".code").forEach(e=>{const t=window.getComputedStyle(e,"::before");const s=t.width.split("px")[0];const n=t.padding.split(" ").pop().split("px")[0];const i=document.createElement("div");i.classList.add("copy-btn");i.style.right=Number(s)+Number(n)*2+"px";i.innerText=stellar.plugins.copycode.default_text;e.appendChild(i);i.addEventListener("click",async function(e){const t=e.target;await c.copyCode(t,t.parentElement.children[0]?.innerText);t.innerText=stellar.plugins.copycode.success_text;t.classList.add("success");setTimeout(()=>{t.innerText=stellar.plugins.copycode.default_text;t.classList.remove("success")},3e3)})})}};stellaris.registerThemePlugin(".code",c)})();